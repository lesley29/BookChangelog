<div class="book-info">
    <form
        class="book-info__form"
        [formGroup]="form"
        (ngSubmit)="onSubmit()"
    >
        <mat-form-field appearance="outline">
            <mat-label>Title</mat-label>
            <input matInput formControlName="title" required>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Description</mat-label>
            <textarea
                matInput
                rows="6"
                formControlName="description"
            ></textarea>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Publication date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="publicationDate" required>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Authors</mat-label>
            <mat-select formControlName="authors" multiple required>
                <mat-option *ngFor="let author of authorList$ | async" [value]="author.id">
                    {{ author.name }}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <button
            mat-raised-button
            type="submit"
            color="primary"
            [disabled]="!form.dirty"
        >
            Save changes
        </button>
    </form>
</div>